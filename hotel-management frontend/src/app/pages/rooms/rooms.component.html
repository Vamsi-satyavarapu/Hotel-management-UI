<section class="py-5" id="rooms">
  <div class="container">
    <div class="text-center mb-4">
      <h2 class="fw-bold text-dark">Available Rooms</h2>
      <p class="text-muted">Choose from a variety of comfortable and well-maintained rooms</p>

      <div class="btn-group mb-3" role="group">
        <button class="btn btn-outline-primary" (click)="filterRooms('all')">All</button>
        <button class="btn btn-outline-secondary" (click)="filterRooms('single')">Single Bed</button>
        <button class="btn btn-outline-info" (click)="filterRooms('double')">Double Bed</button>
        <button class="btn btn-outline-warning" (click)="filterRooms('family')">Family</button>
      </div>
    </div>

    <div class="row g-4">
      <div class="col-md-4" *ngFor="let room of rooms" [hidden]="!isVisible(room)">
        <div class="card h-100 shadow fancy-card"
             [ngClass]="{
               'occupied-room': room.status.toLowerCase() === 'occupied',
               'available-room': room.status.toLowerCase() === 'available'
             }">
          <img [src]="room.image" class="card-img-top" [alt]="'Room ' + room.number + ' image'">
          <div class="card-body">
            <h5 class="card-title">
              Room {{ room.number }}
              <span class="badge ms-2"
                    [ngClass]="{
                      'bg-secondary': room.type.toLowerCase() === 'single',
                      'bg-info text-white': room.type.toLowerCase() === 'double',
                      'bg-warning text-dark': room.type.toLowerCase() === 'family'
                    }">
                {{
                  room.type.toLowerCase() === 'single' ? 'Single Bed' :
                  room.type.toLowerCase() === 'double' ? 'Double Bed' :
                  'Family'
                }}
              </span>
            </h5>
            <p class="card-text"><strong>Capacity:</strong> {{ room.capacity }}</p>
            <p class="card-text"><strong>Amenities:</strong> {{ room.amenities }}</p>

            <span class="badge status-badge"
                  [ngClass]="{
                    'bg-success': room.status.toLowerCase() === 'available',
                    'bg-danger': room.status.toLowerCase() === 'occupied'
                  }">
              {{ room.status }}
            </span>

            <div class="mt-3">
              <button *ngIf="room.status.toLowerCase() === 'available'"
                      class="btn btn-success w-100"
                      (click)="bookRoom(room)">
                Book Now
              </button>
              <button *ngIf="room.status.toLowerCase() === 'occupied'"
                      class="btn btn-danger w-100"
                      (click)="vacateRoom(room)">
                Vacate
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
